<html>
<head>
<title id="title">Home Symphony</title>
<link rel="stylesheet" type="text/css" href="symphony.css">
</head>
<script type="text/javascript" src="symphony.js"></script>
<body onload="initialize()">
<input id="hiddenName" type="hidden">
<div class="header" id="theName">thename</div>
<h2>Device Setup</h2>
<div class="header" id="msg"></div>
<div class="tab">
  <button class="tablinks" onclick="openTab(event, 'device');loadControlPage();getDeviceInfo();" id="defaultOpen">Device</button>
  <button class="tablinks" onclick="openTab(event, 'mqtt');">MQTT</button>
  <button class="tablinks" onclick="openTab(event, 'upload');">Files</button>
  <button class="tablinks" onclick="openTab(event, 'firmware')">Firmware</button>
  <button class="tablinks" onclick="openTab(event, 'reboot')">Reboot</button>
</div>
<div class="footer" id="status"></div>
<div class="blurred"></div>

<div id="mqtt" class="tabcontent">
<h3>Configure Mqtt Settings</h3>
<form action='/setMqttConfig' method='get' id='mqttForm'>
<center><fieldset style="width:300px"><legend><b>Mqtt Details</b></legend>
<label>Enabled:</label><input type='checkbox' id='mqttEnabled' onclick='toggleMqtt()'><br>
<label>IP:</label><input type='text' id='mqttIp'><br>
<label>Port:</label><input type='text' id='mqttPort' value="1883"><br>
<fieldset><legend id="mqttLegend">Disconnected</legend>
<label>Subscribe:</label><input type='text' id='sTopic' disabled><br>
<label>Publish:</label><input type='text' id='pTopic' disabled><br>
</fieldset><br>
<input type='button' value='Commit' onclick='commitConfig()'>
</fieldset></center>
</form>
</div>
<div id="firmware" class="tabcontent">
<h3>Firmware Management</h3>
<center><fieldset style="width:300px"><legend><b>Firmware Update</b></legend>
<div id="main" data-role="header" align="center">
    <div id="note">Device will reboot after file is uploaded.</div>    
    <form id='fileUpload' method='POST' enctype='multipart/form-data'>
	<br><input type="file" id="bin" name="fileFW" accept=".bin">
	<br><br><input type='button' id='btn' value='Update' onclick='updateFirmware()'>
    </table>
	</form>
	<div id="pct_total" style="background-color:lightgray;width:300px;height:20px;text-align:left;border-color:green;border-width:2px;border-style:solid;">
	  <div id="pct" style="position:absolute;text-align:center;background: rgba(255, 255, 255, 0.1);width:300px">0%</div>
	  <div id="pct_bar" style="text-align:center;background-color:lightgreen;height:20px;width:0%"></div>
	</div>
</div>
</div>
</fieldset></center>
</div>
<div id="device" class="tabcontent">
<h3>Manage Device</h3>
<form action='/config' method='get' id='formDevice'>
<center><fieldset style="width:300px"><legend><b>Settings</b></legend>
<label>Name:</label><input type='text' id='pName' maxlength="8"><br>
<label>Wifi SSID:</label><input type='text' id='pSSID'><br>
<label>Passkey:</label><input type='text' id='pPass'><br>
<input type='button' id='btnCommit' value='Commit' onclick='commitConfig()'>
</fieldset></center>
</form>
</div>

<div id="upload" class="tabcontent">
<h3>File Management</h3>
<center><fieldset style="width:300px"><legend>Upload File</legend>
<a href="/files.html">File Manager</a>
</fieldset></center>
</div>

<div id="reboot" class="tabcontent">
<fieldset style="width:300px">
<legend>Reboot Device</legend>
<br/><br/>
<form>
<input type='button' id='btnReboot' value='Reboot' onclick='rebootDevice()'>
</form>
</fieldset>
</div>
</body>
</html>
